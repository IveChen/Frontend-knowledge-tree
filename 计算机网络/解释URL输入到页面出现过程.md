# 解释URL输入到页面出现过程

### 在浏览器中输入一个URL地址

### 浏览器查找域名的ip地址

首先浏览器会根据URL进行域名解析获得ip地址：

1. 先向本地host查找此域名是否存在，若存在，则获得ip地址；若无，进行下一步；
2. 向DNS（域名系统）发起请求，帮助本地获取ip地址；
3. DNS接收信息后进行DNS解析，将查找后的ip地址返回给客户端，结束。



### 向ip地址发起一个建立链接的请求（TCP三次握手）

HTTP构建在TCP之上，所以需经过三次握手创建连接（TCP协议的“三次握手策略”）：

> 发送端首先发送一个带SYN标志的数据包给对方。接收端收到后，回传一个带有SYN/ACK标志的数据包以示传达确认信息。最后发送端再回传一个带ACK标志的数据包，代表握手结束。
> 建立TCP链接后，对URL进行检查，判断该URL使用的协议（在此假设是http协议）



### 浏览器给web服务器发送一个HTTP请求

HTTP请求报文包含一个报文首部Request Headers（和空行CR+LF）和报文主体。

> 请求头首部内容由请求行(GET/HTTP/1.1)和各种首部字段(如Connection:keep-alive、Accept-Encoding:gzip,deflate)组成。首部字段包含表示请求的各种条件和属性。
> 浏览器跟踪重定向地址



### 服务器处理并响应请求，返回响应报文和数据给浏览器。

> 响应报文首部状态行包含表明响应结果的状态码，原因短语和HTTP版本。其中HTTP状态码负责表示客户端HTTP请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作（其中出名的200 OK、304 Not Modified、400 Bad Request、404 Not Found…）

### 浏览器开始渲染显示html

浏览器根据html创建DOM Tree（DOM 树）

### 浏览器发送获取嵌入在HTML中的对象的请求

如css，图片，flash等资源。浏览器根据外部样式表和html内部的style样式进行解析、计算，最后得出样式结构体，再将样式结构体和DOM树结合，形成Render Tree（呈现树），触发回流与重绘，最终呈现于页面

### 浏览器发送异步（AJAX）请求